<hr />
<h1>list of products</h1>
<div *ngIf="products.length == 0; else productFound">
  <h5>No Product Found</h5>
</div>

<ng-template #productFound>
  <h3>total products :- {{ products.length }}</h3>
  <button class="btn btn-primary" (click)="refreshProductTable()">
    Refresh
  </button>
  <br />
  <br />
  <div class="table-responsive">
    <table
      class="table table-striped table-inverse"
      style="background-color: gray"
    >
      <tr>
        <th>Id</th>
        <th>Product Name</th>
        <th>Description</th>
        <th>Price [ Base Price ]</th>
        <th>keywords</th>
        <th>country</th>
        <th>sallerName</th>
        <th>sallerEmail</th>
        <th>mobile</th>
        <th>Active status</th>
      </tr>
      <tr *ngFor="let product of products; let i = index">
        <td>{{ product._id }}</td>
        <td>{{ product.productName }}</td>
        <td>{{ product.description }}</td>
        <td>{{ product.price.basePrice }}</td>
        <td>
          <ul *ngFor="let keyword of product.keywords">
            <li>{{ keyword }}</li>
          </ul>
        </td>
        <td>
          <ul *ngFor="let country of product.country">
            <li>
              <p>country name : {{ country.name }}</p>
              <p>country price : {{ country.price }}</p>
            </li>
          </ul>
        </td>
        <td>{{ product.sallerName }}</td>
        <td>{{ product.sallerEmail }}</td>
        <td>
          <ul *ngFor="let mobile of product.mobile">
            <li>{{ mobile }}</li>
          </ul>
        </td>

        <td>{{ product.isActive }}</td>
        <td>
          <button
            class="btn btn-success"
            (click)="updateProduct(product._id, i)"
          >
            Edit
          </button>
        </td>
        <td>
          <button
            class="btn btn-danger"
            (click)="deleteProduct(product._id, i)"
          >
            Delete
          </button>
        </td>
      </tr>
    </table>
  </div>
</ng-template>
